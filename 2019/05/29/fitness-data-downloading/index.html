<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#b100b2">
    <meta name="theme-color" content="#b100b2">

    <meta property="og:url" content="https://martinjc.com/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Martin Chorley">
    <meta property="og:site_name" content="Martin Chorley">
    <meta property="og:locale" content="en_GB">
    <meta property="article:author" content="Martin Chorley">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@martinjc">
    <meta name="twitter:url" content="https://martinjc.com">
    <meta name="twitter:title" content="Martin Chorley">

    <link rel="icon" href="/img/favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Roboto|Scope+One" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
</head><body><header>
    <div class="social">
        <ul>
            <li><a href="https://www.twitter.com/martinjc" class="icon twitter" title="Twitter"><svg viewBox="0 0 512 512">
                        <path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z" /></svg>
                    </a></li>
            <li><a href="mailto:ChorleyMJ@Cardiff.ac.uk" class="icon email" title="Email"><svg viewBox="0 0 512 512">
                        <path d="M101.3 141.6v228.9h0.3 308.4 0.8V141.6H101.3zM375.7 167.8l-119.7 91.5 -119.6-91.5H375.7zM127.6 194.1l64.1 49.1 -64.1 64.1V194.1zM127.8 344.2l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7L127.8 344.2 127.8 344.2zM384.4 307.8l-64.4-64.4 64.4-49.3V307.8z" /></svg>
                    </a></li>
            <li><a href="https://www.facebook.com/martin.chorley" class="icon facebook" title="Facebook"><svg viewBox="0 0 512 512">
                        <path d="M211.9 197.4h-36.7v59.9h36.7V433.1h70.5V256.5h49.2l5.2-59.1h-54.4c0 0 0-22.1 0-33.7 0-13.9 2.8-19.5 16.3-19.5 10.9 0 38.2 0 38.2 0V82.9c0 0-40.2 0-48.8 0 -52.5 0-76.1 23.1-76.1 67.3C211.9 188.8 211.9 197.4 211.9 197.4z" /></svg>
                    </a></li>
            <li><a href="https://www.github.com/martinjc" class="icon github" title="GitHub"><svg viewBox="0 0 512 512">
                        <path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z" /></svg>
                    </a></li>
            <li><a href="https://www.instagram.com/martinjam" class="icon instagram" title="Instagram"><svg viewBox="0 0 512 512">
                        <g>
                            <path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z" />
                            <path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z" />
                            <circle cx="351.5" cy="160.5" r="21.5" />
                        </g>
                    </svg>
                    </a></li>
            <li><a href="https://www.last.fm/user/takitomouse" class="icon lastfm" title="Last.fm"><svg viewBox="0 0 512 512">
                        <path d="M230.104 336.568l-13.607-36.988c0 0-22.11 24.66-55.268 24.66 -29.341 0-50.172-25.512-50.172-66.328 0-52.293 26.359-71.001 52.297-71.001 37.412 0 49.316 24.234 59.522 55.273l13.607 42.518c13.603 41.236 39.113 74.402 112.666 74.402 52.727 0 88.437-16.155 88.437-58.672 0-34.438-19.56-52.297-56.125-60.802l-27.209-5.951c-18.707-4.252-24.233-11.906-24.233-24.659 0-14.456 11.478-22.96 30.189-22.96 20.406 0 31.458 7.653 33.162 25.935l42.516-5.103c-3.402-38.263-29.761-53.996-73.127-53.996 -38.266 0-75.68 14.456-75.68 60.799 0 28.912 14.029 47.197 49.315 55.697l28.916 6.801c21.683 5.104 28.908 14.031 28.908 26.363 0 15.73-15.305 22.107-44.218 22.107 -42.941 0-60.794-22.534-70.999-53.574l-14.032-42.513c-17.854-55.271-46.342-75.68-102.892-75.68 -62.499-0.001-95.663 39.538-95.663 106.715 0 64.628 33.164 99.489 92.689 99.489C207.141 359.1 230.104 336.568 230.104 336.568L230.104 336.568z" /></svg>
                    </a></li>
            <li><a href="https://uk.linkedin.com/in/martinchorley" class="icon linkedin" title="LinkedIn"><svg viewBox="0 0 512 512">
                        <path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z" /></svg>
                    </a></li>
        </ul>
    </div>


    <nav>
        <ul>|
            <li><a href="/">&nbsp;home</a>&nbsp;|</li>
            <li><a href="/blog">&nbsp;blog</a>&nbsp;|</li>
            <li><a href="/teaching">&nbsp;teaching</a>&nbsp;|</li>
            <li><a href="/research">&nbsp;research</a>&nbsp;|</li>
            <li><a href="/publications">&nbsp;publications</a>&nbsp;|</li>
        </ul>
    </nav>
</header><div id="content">
<article class="blogpost">
    <header>
        <h1> <a href="/2019/05/29/fitness-data-downloading/">
                Fitness Data Downloading
            </a></h1>
        <p class="author">
            <span class="date">Wednesday, May 29, 2019</span>
        </p>
    </header>
    <div class="content">
        <p>Like many (most?) people these days who have the foolish notion to exercise outside I track my activities with GPS and a logging app. Well, I say &lsquo;app&rsquo;, but of course with the way all things link together my data ends up shared between four or five different services.</p>

<p>I recently had call to download my location data for an upcoming project. One of the sites that stores my running and cycling activity is <a href="https://www.runkeeper.com">Runkeeper</a>, and it was from here I chose to pull my data.</p>

<p>Runkeeper has an API, and if we&rsquo;re going to pull our data out of the service the first thing we need to do is sign up to use it, which you can do at the <a href="https://runkeeper.com/developer/healthgraph/">Health Graph</a> website. The link to sign up is buried slightly in the <a href="https://runkeeper.com/developer/healthgraph/registration-authorization">documentation</a> - but you can sign up to create an app at <a href="https://runkeeper.com/partner/applications">https://runkeeper.com/partner/applications</a>. You need to enter a few details for an application - as we&rsquo;re only going to be using this for accessing our own data it doesn&rsquo;t really matter what information we put in here:</p>










<figure>
    <img src="/2019/05/29/fitness-data-downloading/app_details.png" width="1958" height="1326" alt="App Registration">
    <figcaption>
        <small>
            App Registration
        </small>
    </figcaption>
</figure>

<p>Once we&rsquo;ve signed up and got access to the API, we are provided with a <code>client_id</code> and a <code>client_secret</code>. These are the OAuth keys that identify our application to Runkeeper:</p>










<figure>
    <img src="/2019/05/29/fitness-data-downloading/keys.png" width="2004" height="1496" alt="Keys">
    <figcaption>
        <small>
            Keys
        </small>
    </figcaption>
</figure>

<p>To access user data from Runkeeper we need to follow a typical OAuth flow. We open a URL, sending Runkeeper our <code>client_id</code> and <code>client_secret</code>. Runkeeper asks our user to login and give our application permission to access their data. They then send us back to our redirect address with a single use <code>access_code</code>. We can then make a request to Runkeeper and exchange this <code>access_code</code> for an <code>access_token</code>. This token will allow us to make requests to the Health Graph API and access the data of the user that authorised our application. If we were building a public-facing application we&rsquo;d need to write a bit of server code and get it online somewhere to handle this flow, but for our purposes here we only need to authorise ourselves, so we won&rsquo;t bother and we&rsquo;ll do it all manually.</p>

<p>Putting together the first request URL is quite straightforward:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> _credentials <span style="color:#f92672">import</span> client_id, client_secret, access_token

DATA_DIR <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(os<span style="color:#f92672">.</span>getcwd(), <span style="color:#e6db74">&#34;data&#34;</span>)


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_auth_url</span>():
    <span style="color:#75715e"># create an authorisation url to copy paste into a browser window</span>
    <span style="color:#75715e"># so we can get an access token to store in _credentials.py</span>

    base_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://runkeeper.com/&#34;</span>
    endpoint <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;apps/authorize&#34;</span>
    params <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;response_type&#34;</span>: <span style="color:#e6db74">&#34;code&#34;</span>,
        <span style="color:#e6db74">&#34;client_id&#34;</span>: client_id,
        <span style="color:#e6db74">&#34;redirect_uri&#34;</span>: <span style="color:#e6db74">&#34;http://www.martinjc.com&#34;</span>,
    }

    auth_url <span style="color:#f92672">=</span> base_url <span style="color:#f92672">+</span> endpoint <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;?&#34;</span> <span style="color:#f92672">+</span> urlencode(params, quote_via<span style="color:#f92672">=</span>quote)
    <span style="color:#66d9ef">return</span> auth_url</code></pre></div>

<p>Once we have the <code>auth_url</code> we can open it in a web browser. This will open the Runkeeper website and ask us to give permission to our application to access the necessary data:</p>










<figure>
    <img src="/2019/05/29/fitness-data-downloading/authorise.png" width="1594" height="1206" alt="Authorising the Application">
    <figcaption>
        <small>
            Authorising the Application
        </small>
    </figcaption>
</figure>

<p>If we authorise the application, it will send us back to our redirect URL. A proper server would listen for these requests coming in, capture the code provided in the address bar and carry on with the authentication flow. Again, we&rsquo;re just doing it manually, so we&rsquo;ll just copy and paste that code out of the address bar so we can use it in the next step of the process:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">do_auth</span>():

    base_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://runkeeper.com/&#34;</span>
    endpoint <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;apps/token&#34;</span>
    params <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;grant_type&#34;</span>: <span style="color:#e6db74">&#34;authorization_code&#34;</span>,
        <span style="color:#e6db74">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;CODE_WE_JUST_COPIED&#34;</span>,
        <span style="color:#e6db74">&#34;client_id&#34;</span>: client_id,
        <span style="color:#e6db74">&#34;client_secret&#34;</span>: client_secret,
        <span style="color:#e6db74">&#34;redirect_uri&#34;</span>: <span style="color:#e6db74">&#34;http://www.martinjc.com&#34;</span>,
    }

    r <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>post(base_url <span style="color:#f92672">+</span> endpoint, params)
    <span style="color:#66d9ef">print</span>(r<span style="color:#f92672">.</span>json())</code></pre></div>

<p>If all is well, the response from the server will contain the access token we need to make authenticated requests to the server.</p>

<p>We can then use this <code>access_token</code> every time we need to make a request to the API:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_data</span>(endpoint, params<span style="color:#f92672">=</span>None):

    base_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.runkeeper.com/&#34;</span>
    endpoint <span style="color:#f92672">=</span> endpoint

    headers <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Authorization&#34;</span>: <span style="color:#e6db74">&#34;Bearer &#34;</span> <span style="color:#f92672">+</span> access_token}

    r <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(base_url <span style="color:#f92672">+</span> endpoint, params<span style="color:#f92672">=</span>params, headers<span style="color:#f92672">=</span>headers)
    <span style="color:#66d9ef">if</span> r<span style="color:#f92672">.</span>status_code <span style="color:#f92672">!=</span> <span style="color:#ae81ff">200</span>:
        <span style="color:#66d9ef">return</span> None
    <span style="color:#66d9ef">return</span> r<span style="color:#f92672">.</span>json()</code></pre></div>

<p>The above function will make a request to the given endpoint (and assuming it succeeds) will return the data back to the calling code. If we want to get the list of all activities for the user, we can use this function like so:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_fitness_activities</span>():
    <span style="color:#75715e"># store activity URIs separately</span>
    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;activities.json&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> activities_output_file:

        activities <span style="color:#f92672">=</span> []
        activity_data <span style="color:#f92672">=</span> get_data(<span style="color:#e6db74">&#34;fitnessActivities&#34;</span>)

        num_activities <span style="color:#f92672">=</span> activity_data[<span style="color:#e6db74">&#34;size&#34;</span>]
        num_calls <span style="color:#f92672">=</span> int(num_activities <span style="color:#f92672">/</span> <span style="color:#ae81ff">25</span>)
        call_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">if</span> activity_data<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;items&#34;</span>):
            activities<span style="color:#f92672">.</span>extend(activity_data[<span style="color:#e6db74">&#34;items&#34;</span>])
            <span style="color:#66d9ef">print</span>(call_count, len(activity_data[<span style="color:#e6db74">&#34;items&#34;</span>]), len(activities))

        <span style="color:#66d9ef">while</span> activity_data<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;next&#34;</span>) <span style="color:#f92672">and</span> call_count <span style="color:#f92672">&lt;</span> num_calls:
            activity_data <span style="color:#f92672">=</span> get_data(activity_data[<span style="color:#e6db74">&#34;next&#34;</span>])
            call_count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

            <span style="color:#66d9ef">if</span> activity_data<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;items&#34;</span>):
                activities<span style="color:#f92672">.</span>extend(activity_data[<span style="color:#e6db74">&#34;items&#34;</span>])
                <span style="color:#66d9ef">print</span>(call_count, len(activity_data[<span style="color:#e6db74">&#34;items&#34;</span>]), len(activities))

        json<span style="color:#f92672">.</span>dump(activities, activities_output_file)</code></pre></div>

<p>The list of activities in the Health Graph is paginated, so we need to call the endpoint repeatedly, fetching each page of activities.</p>

<p>Once we have downloaded the full list of activities, we can then download the full details of each activity. The API is rate-limited to 100 calls every 15 minutes per user, so we&rsquo;ll put the code to sleep for 9 seconds between calls to ensure we don&rsquo;t go over the rate limit:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">download_activities</span>(activity_list):

    <span style="color:#66d9ef">for</span> activity_uri <span style="color:#f92672">in</span> activity_list:
        id_str <span style="color:#f92672">=</span> activity_uri<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;/fitnessActivities/&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>)
        filename <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(DATA_DIR, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">.json&#34;</span> <span style="color:#f92672">%</span> id_str)
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(filename):
            activity_data <span style="color:#f92672">=</span> get_data(activity_uri)
            time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">9</span>)
            <span style="color:#66d9ef">if</span> activity_data <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> None:
                <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> output_file:
                    json<span style="color:#f92672">.</span>dump(activity_data, output_file)</code></pre></div>

<p>And that&rsquo;s it. Run the code, give it enough time, and you&rsquo;ll end up with all your activity data downloaded from Runkeeper. Easy.</p>

<p>The full code for the script is below, or in <a href="https://gist.github.com/martinjc/0d54358e1ddae6f48f689e899506e570">this gist here</a>.</p>

<script src="https://gist.github.com/martinjc/0d54358e1ddae6f48f689e899506e570.js"></script>

    </div>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "\/2019\/05\/29\/fitness-data-downloading\/";  
            this.page.identifier = "fitness-data-downloading"; 
        };
        (function () { 
            var d = document, s = d.createElement('script');
            s.src = 'https://martinjc.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</article>

    </div><script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-25500481-1', 'auto');
    ga('send', 'pageview');

</script>
<script>window.twttr = (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0],
            t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = [];
        t.ready = function (f) {
            t._e.push(f);
        };

        return t;
    }(document, "script", "twitter-wjs"));
</script></body>

</html>