<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#b100b2><meta name=theme-color content=#b100b2><meta property=og:url content=https://martinjc.com/ ><meta property=og:type content=website><meta property=og:title content="Martin Chorley"><meta property=og:description content="I am Dr Martin Chorley, a lecturer at the School of Computer Science & Informatics, Cardiff University, programme leader for the MSc in Computational and Data Journalism.
"><meta property=og:site_name content="Martin Chorley"><meta property=og:locale content=en_GB><meta property=article:author content="Martin Chorley"><meta name=twitter:card content=summary><meta name=twitter:creator content=@martinjc><meta name=twitter:url content=https://martinjc.com><meta name=twitter:title content="Martin Chorley"><meta name=twitter:description content="I am Dr Martin Chorley, a lecturer at the School of Computer Science & Informatics, Cardiff University, programme leader for the MSc in Computational and Data Journalism.
"><title>martinjc.com</title><meta name=description content="I am Dr Martin Chorley, a lecturer at the School of Computer Science & Informatics, Cardiff University, programme leader for the MSc in Computational and Data Journalism.
"><link rel=icon href=/img/favicon.png><link href="https://fonts.googleapis.com/css?family=Roboto|Scope+One" rel=stylesheet><link rel=stylesheet type=text/css href=/css/main.css></head><body><header><div class=social><ul><li><a href=https://www.twitter.com/martinjc class="icon twitter" title=Twitter><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"/></svg><!--[if lt IE 9]><em>Twitter</em><![endif]--></a></li><li><a href=mailto:ChorleyMJ@Cardiff.ac.uk class="icon email" title=Email><svg viewBox="0 0 512 512"><path d="M101.3 141.6v228.9h0.3 308.4 0.8V141.6H101.3zM375.7 167.8l-119.7 91.5 -119.6-91.5H375.7zM127.6 194.1l64.1 49.1 -64.1 64.1V194.1zM127.8 344.2l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7L127.8 344.2 127.8 344.2zM384.4 307.8l-64.4-64.4 64.4-49.3V307.8z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li><li><a href=https://www.facebook.com/martin.chorley class="icon facebook" title=Facebook><svg viewBox="0 0 512 512"><path d="M211.9 197.4h-36.7v59.9h36.7V433.1h70.5V256.5h49.2l5.2-59.1h-54.4c0 0 0-22.1 0-33.7 0-13.9 2.8-19.5 16.3-19.5 10.9 0 38.2 0 38.2 0V82.9c0 0-40.2 0-48.8 0 -52.5 0-76.1 23.1-76.1 67.3C211.9 188.8 211.9 197.4 211.9 197.4z"/></svg><!--[if lt IE 9]><em>Facebook</em><![endif]--></a></li><li><a href=https://www.github.com/martinjc class="icon github" title=GitHub><svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li><li><a href=https://www.instagram.com/martinjam class="icon instagram" title=Instagram><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"/><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"/><circle cx=351.5 cy=160.5 r=21.5 /></g></svg><!--[if lt IE 9]><em>Instagram</em><![endif]--></a></li><li><a href=https://www.last.fm/user/takitomouse class="icon lastfm" title=Last.fm><svg viewBox="0 0 512 512"><path d="M230.104 336.568l-13.607-36.988c0 0-22.11 24.66-55.268 24.66 -29.341 0-50.172-25.512-50.172-66.328 0-52.293 26.359-71.001 52.297-71.001 37.412 0 49.316 24.234 59.522 55.273l13.607 42.518c13.603 41.236 39.113 74.402 112.666 74.402 52.727 0 88.437-16.155 88.437-58.672 0-34.438-19.56-52.297-56.125-60.802l-27.209-5.951c-18.707-4.252-24.233-11.906-24.233-24.659 0-14.456 11.478-22.96 30.189-22.96 20.406 0 31.458 7.653 33.162 25.935l42.516-5.103c-3.402-38.263-29.761-53.996-73.127-53.996 -38.266 0-75.68 14.456-75.68 60.799 0 28.912 14.029 47.197 49.315 55.697l28.916 6.801c21.683 5.104 28.908 14.031 28.908 26.363 0 15.73-15.305 22.107-44.218 22.107 -42.941 0-60.794-22.534-70.999-53.574l-14.032-42.513c-17.854-55.271-46.342-75.68-102.892-75.68 -62.499-0.001-95.663 39.538-95.663 106.715 0 64.628 33.164 99.489 92.689 99.489C207.141 359.1 230.104 336.568 230.104 336.568L230.104 336.568z"/></svg><!--[if lt IE 9]><em>Last.fm</em><![endif]--></a></li><li><a href=https://uk.linkedin.com/in/martinchorley class="icon linkedin" title=LinkedIn><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"/></svg><!--[if lt IE 9]><em>LinkedIn</em><![endif]--></a></li></ul></div><nav><ul>|<li><a href=/ >&nbsp;home</a>&nbsp;|</li><li><a href=/blog>&nbsp;blog</a>&nbsp;|</li><li><a href=/teaching>&nbsp;teaching</a>&nbsp;|</li><li><a href=/research>&nbsp;research</a>&nbsp;|</li><li><a href=/publications>&nbsp;publications</a>&nbsp;|</li></ul></nav></header><div class=wrapper><article class=blogpost><header><h1><a href=/2011/11/22/foursquare-hackathon-post-mortem.html>Foursquare Hackathon Post Mortem</a></h1><p class=author><span class=date>November 22, 2011</span> - by martin</p></header><div class=content><p><strong>Note: I wrote this post just after the hackathon, but then forgot to actually publish it!</strong></p><p>There’s a fair amount I learnt from taking part in and helping to organise the <a href=https://martinjc.com/2011/09/14/foursquare-hackathon/ >foursquare hackathon</a> here at the university that probably deserves its own post. I’ll split it into two parts, the taking part and the organisation.</p><h2 id=organising-a-hack-event>Organising a hack event</h2><p>There were a couple of things I learnt from helping to organise the event that perhaps weren’t clear to begin with:</p><ol><li><p>Expect dropouts. A lot of them. We ended up with about 50% of the people that said they would attend actually attending. Which is fine because we hadn’t planned on providing catering etc. anyway, but if we had, we may have overspent massively.</p></li><li><p>Get someone in to run the day that <em>doesn’t actually want to code</em>. All three of us organising the event really wanted to get involved and create stuff, so there was no-one left to organise the other essential things like food. Too often people would talk about ordering food, or going out for dinner and then get sucked back into programming and it would get forgotten about. By the end of the weekend we’d all eaten really badly, often very late at night. Having someone there to do things like order pizza or make coffee runs would probably have helped things go a lot smoother.</p></li><li><p>If you’re going to be communicating with the world at large using twitter or something similar, make sure you communicate with each other within the organising team about posting updates. Often two people would try and reply to a query at the same time, which made us look a bit silly. Not a major issue, but it might help give a more professional feel, event if you’re total amateurs.</p></li></ol><h2 id=participating-in-a-hack-event>Participating in a hack event</h2><p>We also learnt a lot about participating in a hack event. My top tips for a successful project would be:</p><ol><li><p>Do your research. If you can, go into the event with an idea already, just in case no-one else has any. It’ll help you get started quicker.</p></li><li><p>Keep it small. Don’t over reach. 24/48 hours is not a long time to code something, and by making it too complicated you’ll be disappointed with the outcome. Simple is best. Add extra features later if you have time.</p></li><li><p>Small, agile teams. These projects have to be small because of the time constraints, so if teams get too big there won’t be enough for everyone to do. People will end up feeling useless or left out, which is never good. I would say a maximum of 4 people per team.</p></li><li><p>If you want to learn something new, a hack event can be a great place to be forced to up your skills in a particular area very quickly. It can also be a great place to learn new skills and tools from others. However, this may lead to the end result not being ideal. If you can live with that, great, you’ll walk away happy. I personally upped my javascript knowledge over the weekend from approximately 0 to something approaching a passable working knowledge, which was great.</p></li><li><p>Know your tools. This is pretty much common sense, but if you’re not after learning something new and you just want a successful app/outcome, pick and use the tools you know really well. We went with django on the back end because myself and Matt know it pretty well, and we were able to get that part of the site running really really quickly. Had we gone with something else it may not have worked so well.</p></li><li><p>Get coding. Screw the design, you can worry about that later. Start coding early, and code fast.</p></li></ol><p>So thats the things I learnt from the weekend. Hopefully we’ll be able to use this knowledge again in the future, both organising and participating in future events.</p></div></article><hr><article class=blogpost><header><h1><a href=/2011/10/01/colourful-foursquare-category-icons.html>Colourful Foursquare category icons</a></h1><p class=author><span class=date>October 1, 2011</span> - by martin</p></header><div class=content><p><strong>UPDATE [01 August 2014]: Even more breaking! More recent version of the script <a href=https://martinjc.com/2014/08/01/foursquare-icon-downloading-yet-again/ >here</a></strong></p><p><strong>UPDATE 31/01/2011 - new version of the <a href=https://martinjc.com/2012/01/31/foursquare-category-icon-downloader-2/ >downloader</a> script is here</strong></p><p>A couple of projects I’m working on at the moment need the ability to add foursquare venues to a map. This is pretty straightforward, but what is also needed is the ability to distinguish between the categories of the venues. To do this, I’m adding custom markers to a google map at a venue location, with the marker having an icon representing the venue category.</p><p>Foursquare already have lots of category icons ready made, and they supply the urls in the <a href="https://developer.foursquare.com/docs/explore.html#req=venues/categories">/venues/category</a> endpoint, which is handy.  It seems from <a href=https://groups.google.com/forum/#!topic/foursquare-api/TsRBGdXDgzg>official responses</a> on the forum that they don’t mind you downloading these icons for use in your apps, and they also supply the icons in <a href=https://groups.google.com/d/topic/foursquare-api/Pw0p4qqW79A/discussion>several sizes</a>, so hacking together a script to download all the available icons is pretty easy. The following python code will do just that - grab the latest category hierarchy from Foursquare, process it to extract all the category id’s and icon locations, then download each icon in all available sizes:</p><figure class=highlight><pre><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>urllib2</span>
<span class=kn>import</span> <span class=nn>urllib</span>
<span class=kn>import</span> <span class=nn>json</span>

<span class=c># supply oauth token as parameter</span>
<span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s>'oauth_token'</span> <span class=p>:</span> <span class=s>'VALID_FOURSQUARE_OAUTH_TOKEN'</span>
<span class=p>}</span>

<span class=n>api_base_url</span> <span class=o>=</span> <span class=s>'https://api.foursquare.com/v2'</span>

<span class=n>icons</span> <span class=o>=</span> <span class=p>{}</span>

<span class=c># function to extract category info from json and</span>
<span class=c># process any sub-categories</span>
<span class=k>def</span> <span class=nf>process_category</span><span class=p>(</span> <span class=n>category_json</span> <span class=p>):</span>
    <span class=n>icons</span><span class=p>[</span><span class=n>category_json</span><span class=p>[</span><span class=s>'id'</span><span class=p>]]</span> <span class=o>=</span> <span class=n>category_json</span><span class=p>[</span><span class=s>'icon'</span><span class=p>]</span>

    <span class=k>if</span> <span class=s>'categories'</span> <span class=ow>in</span> <span class=n>category_json</span><span class=p>:</span>
        <span class=p>[</span> <span class=n>process_category</span><span class=p>(</span> <span class=n>c</span> <span class=p>)</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>category_json</span><span class=p>[</span><span class=s>'categories'</span><span class=p>]</span> <span class=p>]</span>

<span class=k>if</span> <span class=n>__name__</span> <span class=o>==</span> <span class=s>"__main__"</span><span class=p>:</span>

    <span class=n>url</span> <span class=o>=</span> <span class=n>api_base_url</span> <span class=o>+</span> <span class=s>'/venues/categories?'</span> <span class=o>+</span> <span class=n>urllib</span><span class=o>.</span><span class=n>urlencode</span><span class=p>(</span> <span class=n>params</span> <span class=p>)</span>

    <span class=c># try and retrieve the json</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>response</span> <span class=o>=</span> <span class=n>urllib2</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span> <span class=n>url</span> <span class=p>)</span>
    <span class=k>except</span> <span class=n>urllib2</span><span class=o>.</span><span class=n>HTTPError</span><span class=p>,</span> <span class=n>e</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>e</span>
    <span class=k>except</span> <span class=n>urllib2</span><span class=o>.</span><span class=n>URLError</span><span class=p>,</span> <span class=n>e</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>e</span>

    <span class=c># read the json</span>
    <span class=n>raw_data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>read</span><span class=p>(</span> <span class=p>)</span>
    <span class=n>py_data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span> <span class=n>raw_data</span> <span class=p>)</span>

    <span class=n>categories_json</span> <span class=o>=</span> <span class=n>py_data</span><span class=p>[</span><span class=s>'response'</span><span class=p>]</span>

    <span class=c># extract all the categories</span>
    <span class=k>for</span> <span class=n>category</span> <span class=ow>in</span> <span class=n>categories_json</span><span class=p>[</span><span class=s>'categories'</span><span class=p>]:</span>
        <span class=n>process_category</span><span class=p>(</span> <span class=n>category</span> <span class=p>)</span>

    <span class=c># download all the icons</span>
    <span class=k>for</span> <span class=n>foursq_id</span><span class=p>,</span> <span class=n>icon</span> <span class=ow>in</span> <span class=n>icons</span><span class=o>.</span><span class=n>iteritems</span><span class=p>(</span> <span class=p>):</span>
        <span class=n>sizes</span> <span class=o>=</span> <span class=p>[</span> <span class=s>'_32'</span><span class=p>,</span> <span class=s>'_64'</span><span class=p>,</span> <span class=s>'_256'</span><span class=p>,</span> <span class=s>''</span><span class=p>]</span>
        <span class=k>for</span> <span class=n>size</span> <span class=ow>in</span> <span class=n>sizes</span><span class=p>:</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>url</span> <span class=o>=</span> <span class=n>icon</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span> <span class=s>'.png'</span><span class=p>,</span> <span class=s>'</span><span class=si>%</span><span class=s>s.png'</span> <span class=o>%</span> <span class=n>size</span> <span class=p>)</span>
                <span class=n>u</span> <span class=o>=</span> <span class=n>urllib2</span><span class=o>.</span><span class=n>urlopen</span><span class=p>(</span> <span class=n>url</span> <span class=p>)</span>
                <span class=n>file_name</span> <span class=o>=</span> <span class=s>'</span><span class=si>%</span><span class=s>s</span><span class=si>%</span><span class=s>s.png'</span> <span class=o>%</span> <span class=p>(</span> <span class=n>foursq_id</span><span class=p>,</span> <span class=n>size</span> <span class=p>)</span>
                <span class=n>localFile</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span> <span class=n>file_name</span><span class=p>,</span> <span class=s>'w'</span> <span class=p>)</span>
                <span class=n>localFile</span><span class=o>.</span><span class=n>write</span><span class=p>(</span> <span class=n>u</span><span class=o>.</span><span class=n>read</span><span class=p>(</span> <span class=p>)</span> <span class=p>)</span>
                <span class=n>localFile</span><span class=o>.</span><span class=n>close</span><span class=p>(</span> <span class=p>)</span>
            <span class=k>except</span> <span class=nb>Exception</span><span class=p>:</span>
                <span class=k>pass</span></code></pre></figure><p>After running this script, we have a local copy of all the category icons to use in our application downloaded. In my case, I need to be able to differentiate between venues within the categories, so it would be nice to have different coloured icons for my different classes of venue. Luckily this is also pretty simple. You’ll need <a href=http://www.imagemagick.org/script/index.php>ImageMagick</a> installed, but if it is, the following code will go through all the greyscale icons downloaded with the previous script and convert them to whichever colours you like:</p><figure class=highlight><pre><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>os</span>

<span class=c>#</span>
<span class=c># colour name, and imagemagick colour name</span>
<span class=n>colours</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s>'red'</span> <span class=p>:</span> <span class=s>'red'</span><span class=p>,</span>
    <span class=s>'crimson'</span> <span class=p>:</span> <span class=s>'crimson'</span><span class=p>,</span>
    <span class=s>'pink'</span> <span class=p>:</span> <span class=s>'DeepPink'</span><span class=p>,</span>
    <span class=s>'purple'</span> <span class=p>:</span> <span class=s>'purple'</span><span class=p>,</span>
    <span class=s>'indigo'</span> <span class=p>:</span> <span class=s>'indigo'</span><span class=p>,</span>
    <span class=s>'blue'</span> <span class=p>:</span> <span class=s>'blue'</span><span class=p>,</span>
    <span class=s>'navy'</span> <span class=p>:</span> <span class=s>'navy'</span><span class=p>,</span>
    <span class=s>'turquoise'</span> <span class=p>:</span> <span class=s>'turquoise1'</span><span class=p>,</span>
    <span class=s>'teal'</span> <span class=p>:</span> <span class=s>'teal'</span><span class=p>,</span>
    <span class=s>'lime'</span> <span class=p>:</span> <span class=s>'lime'</span><span class=p>,</span>
    <span class=s>'yellow'</span> <span class=p>:</span> <span class=s>'yellow'</span><span class=p>,</span>
    <span class=s>'orange'</span> <span class=p>:</span> <span class=s>'orange'</span><span class=p>,</span>
<span class=p>}</span>

<span class=c>#</span>
<span class=c># list all the files in the current directory</span>
<span class=n>current_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getcwd</span><span class=p>(</span> <span class=p>)</span>
<span class=n>files</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span> <span class=n>current_dir</span> <span class=p>)</span>

<span class=c>#</span>
<span class=c># run through the file list</span>
<span class=k>for</span> <span class=n>fname</span> <span class=ow>in</span> <span class=n>files</span><span class=p>:</span>
    <span class=c># for all the png's</span>
    <span class=k>if</span> <span class=s>'.png'</span> <span class=ow>in</span> <span class=n>fname</span><span class=p>:</span>
        <span class=c># get the file name</span>
        <span class=n>stripped_name</span> <span class=o>=</span> <span class=n>fname</span><span class=p>[</span> <span class=p>:</span><span class=n>fname</span><span class=o>.</span><span class=n>rfind</span><span class=p>(</span> <span class=s>'.'</span> <span class=p>)</span> <span class=p>]</span>
        <span class=c># convert to a new colour and save</span>
        <span class=k>for</span> <span class=n>colour</span><span class=p>,</span> <span class=n>magickcolour</span> <span class=ow>in</span> <span class=n>colours</span><span class=o>.</span><span class=n>iteritems</span><span class=p>(</span> <span class=p>):</span>
            <span class=n>colour_name</span> <span class=o>=</span> <span class=s>'</span><span class=si>%</span><span class=s>s_</span><span class=si>%</span><span class=s>s.png'</span> <span class=o>%</span> <span class=p>(</span> <span class=n>stripped_name</span><span class=p>,</span> <span class=n>colour</span><span class=p>)</span>
            <span class=n>os</span><span class=o>.</span><span class=n>system</span><span class=p>(</span> <span class=s>'convert </span><span class=si>%</span><span class=s>s +level-colors </span><span class=si>%</span><span class=s>s, </span><span class=si>%</span><span class=s>s'</span>
                        <span class=o>%</span> <span class=p>(</span> <span class=n>fname</span><span class=p>,</span> <span class=n>magickcolour</span><span class=p>,</span> <span class=n>colour_name</span> <span class=p>)</span> <span class=p>)</span></code></pre></figure><p>The colour names come from <a href=http://www.imagemagick.org/script/color.php>this list</a> of imagemagick colours, you can obviously pick whichever colours you want. If you run this script in the directory with the downloaded Foursquare category icons, you’ll end up with a multitude of differently sized, differently coloured icons.</p><p>And that’s that. Later I’ll post about how to use these as custom markers in a google map.</p><p>UPDATE 3/10/11:</p><p>As this example stores icons by category id, it actually duplicates some of the icons, which is un-necessary. This version (<a href=https://martinjc.com/img/2011-10-01-colourful-foursquare-category-icons/dloader.txt>Foursquare Category Icons downloader</a>) stores the icons by icon name, so saving the downloading and processing of around 100 duplicate icons. It also splits the different sizes into different directories for better file management.</p><p>UPDATE 5/10/11:</p><p>There’s a change in the category json coming which will break this code. Use “v=20111002” as an extra parameter in the code that calls the Foursquare API and it’ll keep working.</p></div></article><hr><article class=blogpost><header><h1><a href=/2011/09/19/foursquare-hackathon-day-2.html>Foursquare Hackathon Cardiff - Day 2</a></h1><p class=author><span class=date>September 19, 2011</span> - by martin</p></header><div class=content><p>Wow. I thought Saturday was busy, but I was wrong. Saturday was a cake walk compared to the crazy nightmare that was Sunday. The challenge of trying to get something (anything) working before the app submission deadline was incredible. Coding was fast and intense, and required a lot of good communication and fast thinking. Unfortunately we hit a few roadblocks that slowed us down (2 hours debugging problems with django’s static file serving really didn’t help, neither did jQuery mobile being an absolute pain in the rear end), but by the end of the day we had a nice looking site with some actual working functionality. Nowhere near the level of functionality that we’d hoped for, but it’s a start. All three of us that were working on the app towards the end are aiming to carry on the development, so hopefully I’ll have another project to post about up here as the months go on.</p><p>A number of people didn’t make it to the Sunday, which is a shame, but the core teams of both projects were in early and working hard, and by the end of the day both had been declared ‘working’ enough to submit. Maybe they’ll do ok against the competition, but we’ll see. A couple more hours on our pub crawl app could really have helped as there’s some key functionality missing, but there just wasn’t time to get it working. Overall though, the event was a success. We managed to pull in people from outside our own hyper-local school development team, we all managed to learn some new things and teach some things to others, and I think most people genuinely had fun. It’s definitely an experience I’m looking forward to repeating, both as a hackday organiser and as just a participant. <a href=http://www.boxuk.com/ >BOX UK</a> have a ‘<a href=http://hackday.boxuk.com/ >For the Social Good</a>’ hackday coming up in November that I’ve already registered for, and I’ll be keeping my eyes open for others in the future, and for opportunities to organise more.</p><p>I think I learnt a few things about organising and participating in these sorts of events, so I’ll be putting up a post in the next few days to share the knowledge.</p></div></article><hr><article class=blogpost><header><h1><a href=/2011/09/17/foursquare-hackathon-cardiff-day-1.html>Foursquare Hackathon Cardiff - Day 1</a></h1><p class=author><span class=date>September 17, 2011</span> - by martin</p></header><div class=content><p>I was fully intending to try and live-blog the progress of the foursquare hackathon today, even going as far as to install a live blog plugin, but things have been going very quickly and we’ve been hitting the coding hard so I just haven’t had time!</p><p>We’ve managed to get a decent crowd in, a roughly 50:50 split of people we already knew from the School and other people from elsewhere. At the peak today we had fifteen people in, but at this stage we’re down to ten - but those who have left are coming back tomorrow! There’s an interesting mix of skills and knowledge levels and a number of people have come who are just eager to see how other people do things and to learn more about foursquare or coding in general. Luckily everyone is talkative and keen to get on and create something cool.</p><p>We started this morning at about 10am and managed to come up with a few ideas in a brief brainstorming session, eventually splitting ourselves into groups working on two ideas. The first idea is being driven forward by Vlad and is quite related to the work we’re doing on Recognition - creating a system to pull in information on a venue or location and create a ‘digest’ of what’s relevant about the place. This could come in handy later on for our research. The second idea is a more ‘fun’ idea - building a system for creating, managing and participating in pub crawls. There’s a couple of parts to this: a management website that allows users to search foursquare venues and add them to a crawl, a backend that manages the storage and retrieval of users and crawls and an application front end that allows you to participate in the crawl itself. At this stage early on day one we’ve got most of the backend built, and the management web app is coming along well. Tomorrow we’re going to start the android app.</p></div></article><hr><article class=blogpost><header><h1><a href=/2011/09/14/foursquare-hackathon.html>Foursquare Hackathon</a></h1><p class=author><span class=date>September 14, 2011</span> - by martin</p></header><div class=content><p>Along with <a href=http://www.mattjw.net/blog/ >Matthew Williams</a> and <a href=http://encima.co.uk/ >Chris Gwilliams</a> I’m helping to organise the Cardiff edition of the <a href=http://blog.foursquare.com/2011/09/09/the-global-hackathon-is-in-a-week-sign-up-now/ >Foursquare global hackathon</a> this weekend. I’m hoping it’ll be a pretty good event. <a href=http://www.meetup.com/foursquare-API/Cardiff-GB/340442/ >Signup</a>’s are looking pretty positive and I’m hopeful that we’ll get some decent apps being created.</p><p>The organising is actually quite fun, but it is remarkable how much there is to do and remember. Thankfully the <a href=http://www.cs.cf.ac.uk/ >School of Computer Science &amp; Informatics</a> are being very supportive and allowing us to host it there, which makes things easier. I’ll be posting here throughout the event (and afterwards).</p></div></article><hr><div class=pagination><a href=/blog/page13 class=previous>Previous</a> <span class=page_number>Page: 14 of 20</span> <a href=/blog/page15 class=next>Next</a></div></div><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-25500481-1","auto"),ga("send","pageview")</script></body></html>