<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><title>SSI - RDVW - D3 Example</title><script src=http://d3js.org/d3.v4.min.js></script><script src=http://d3js.org/colorbrewer.v1.js></script><style>#vis,body,html{margin:0;height:100%;font-family:sans-serif}form{padding:10px}</style></head><body><form><input type=button onclick=update() value=Update> Max Height: <input type=range value=50 min=0 max=100 id=maximumHeight> Max Weight: <input type=range value=50 min=0 max=100 id=maximumWeight> Max IQ: <input type=range value=50 min=0 max=100 id=maximumIQ> Max Speed: <input type=range value=50 min=0 max=100 id=maximumSpeed></form><div id=vis></div><script>function update(){var t=d3.select("#maximumHeight").node().value,a=d3.select("#maximumWeight").node().value,e=d3.select("#maximumIQ").node().value,r=d3.select("#maximumSpeed").node().value,n=d3.transition().duration(2e3),i=createRandomData(maxDataItems,t,a,e,r);x_scale.domain([0,d3.max(i,function(t){return t.Height})]),y_scale.domain([0,d3.max(i,function(t){return t.Weight})]),area_scale.domain(d3.extent(i,function(t){return t.IQ})),colour_scale.domain(d3.extent(i,function(t){return t.Speed}));var o=svg.selectAll(".dot").data(i);o.exit().transition(n).attr("cx",0).attr("cy",height).attr("r",0).remove();var s=o.enter().append("circle").attr("class","dot").attr("r",5).attr("fill","red").attr("stroke","black").attr("stroke-width","0.5px");s.merge(o).transition(n).attr("cx",function(t){return x_scale(t.Height)}).attr("cy",function(t){return y_scale(t.Weight)}).attr("r",function(t){var a=area_scale(+t.IQ),e=Math.sqrt(a/Math.PI);return e}).attr("fill",function(t){return colour_scale(t.Speed)}),d3.select(".x.axis").transition(n).call(x_axis),d3.select(".y.axis").transition(n).call(y_axis)}function createRandomData(t,a,e,r,n){for(var i=Math.floor(Math.random()*t+1),o=[],s=0;s<i;s++){var d=Math.floor(Math.random()*a+1),l=Math.floor(Math.random()*e+1),c=Math.floor(Math.random()*r+1),h=Math.floor(Math.random()*n+1);o.push({Height:d,Weight:l,IQ:c,Speed:h})}return o}var view_width=document.getElementById("vis").clientWidth,view_height=document.getElementById("vis").clientHeight,margin={top:50,bottom:100,left:100,right:150},width=view_width-margin.left-margin.right,height=view_height-margin.top-margin.bottom,maxDataItems=150,maxArea=800,svg=d3.select("#vis").append("svg").attr("height",height+margin.top+margin.bottom).attr("width",width+margin.left+margin.right).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),x_scale=d3.scaleLinear().rangeRound([0,width]),y_scale=d3.scaleLinear().rangeRound([height,0]),area_scale=d3.scaleLinear().range([0,maxArea]),colour_scale=d3.scaleQuantile().range(colorbrewer.Reds[9]),y_axis=d3.axisLeft(y_scale),x_axis=d3.axisBottom(x_scale);svg.append("g").attr("class","y axis"),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")"),svg.append("text").attr("transform","translate(-30,"+height/3+")rotate(-90)").attr("text-anchor","end").text("Weight"),svg.append("text").attr("transform","translate("+width/2+","+(height+30)+")").attr("text-anchor","end").text("Height"),update()</script></body></html>